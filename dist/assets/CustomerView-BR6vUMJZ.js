import{u as L}from"./customers-Dh2zOSHH.js";import{U as P,_ as T}from"./UiParentCard.vue_vue_type_script_setup_true_lang-CBB4u1YX.js";import{x as N,aH as B,G as f,c as i,w as a,o,f as t,m as C,h as s,A as g,aJ as E,aK as F,s as O,_ as c,u as _,aQ as k,p as h,aC as y,L as R,aL as V}from"./index-ChThWpwh.js";import{_ as D}from"./ConfirmDialog.vue_vue_type_script_setup_true_lang-1MLmho_D.js";import{_ as U}from"./NotificeBar-SNjTBcAG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={key:0},M={key:1},j={class:"d-flex ga-6 p-r-5 justify-end"},G="/src/assets/images/customer/avatar-0.webp",Z=N({__name:"CustomerView",setup(J){const x=[{title:"",key:"avatar",algin:"start"},{title:"First Name",key:"firstname",algin:"start"},{title:"Last Name",key:"lastname",algin:"start"},{title:"E-mail",key:"email",algin:"start"},{title:"Membership",key:"membership",algin:"start"},{title:"Rewards",key:"rewards",algin:"end"},{title:"Pending Sales",key:"hasItemInShoppingCart",algin:"start"},{title:"",key:"id",algin:"end"}],l=L();l.getAll();const{filteredData:$}=B(l),u=f(!1),p=f(""),d=f(!1),m=f("");function A(n){V.replace({path:`/customer/${n}`})}function I(n){u.value=!0,m.value=n}function S(){m.value&&l.delteCustomer(m.value).then(n=>{u.value=!1,n.status&&(d.value=!0,setTimeout(()=>{d.value=!1,l.getAll()},1e3))}).finally(()=>m.value="")}function w(){u.value=!1}function z(){d.value=!1}function b(){V.replace({path:"/customer/new"})}return(n,v)=>(o(),i(P,null,{default:a(()=>[t(T,{title:"Customers",createFn:b},{default:a(()=>[g(l).loading?(o(),C("div",H,[t(E,{color:"secondary",height:"6",indeterminate:"",rounded:""})])):s("",!0),g(l).loading?s("",!0):(o(),C("div",M,[t(F,{headers:x,items:g($),search:p.value},{top:a(()=>[t(R,{modelValue:p.value,"onUpdate:modelValue":v[0]||(v[0]=e=>p.value=e),variant:"solo-filled",class:"pa-2",label:"Filter"},null,8,["modelValue"])]),"item.avatar":a(({value:e})=>[t(_,{size:"36px"},{default:a(()=>[e?(o(),i(y,{key:0,alt:"Avatar",src:e},null,8,["src"])):s("",!0),e?s("",!0):(o(),i(y,{key:1,alt:"Avatar",src:G}))]),_:2},1024)]),"item.membership":a(({value:e})=>[t(_,{size:"60"},{default:a(()=>[t(k,{text:"Standard",location:"top"},{activator:a(({props:r})=>[e==="standard"?(o(),i(c,h({key:0,size:"x-large"},r,{alt:"Standard",title:"Standard",icon:"$standard",color:"info"}),null,16)):s("",!0)]),_:2},1024),t(k,{text:"VIP",location:"top"},{activator:a(({props:r})=>[e==="vip"?(o(),i(c,h({key:0,size:"x-large"},r,{alt:"VIP",icon:"$vip",color:"warning"}),null,16)):s("",!0)]),_:2},1024)]),_:2},1024)]),"item.hasItemInShoppingCart":a(({value:e})=>[t(_,{size:"60"},{default:a(()=>[e?(o(),i(c,{key:0,size:"x-large",icon:"$pendingShopping",color:"error"})):s("",!0)]),_:2},1024)]),"item.id":a(({value:e})=>[O("div",j,[t(c,{color:"secondary",icon:"$edit",size:"x-large",onClick:r=>A(e)},null,8,["onClick"]),t(c,{color:"disabled",icon:"$delete",size:"x-large",onClick:r=>I(e)},null,8,["onClick"])])]),_:1},8,["items","search"])]))]),_:1}),t(D,{dialog:u.value,onOnConfirm:S,onOnCancel:w},null,8,["dialog"]),t(U,{notice:d.value,onOnClose:z},null,8,["notice"])]),_:1}))}});export{Z as default};
